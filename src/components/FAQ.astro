---
const faqs = [
  {
    question: 'Is AirTALK safe?',
    answer: 'AirTALK is 100% safe. Voice-only ensures that user privacy is protected and safe connections are made. No camera needed, so conversations flow easily.'
  },
  {
    question: 'How many users does AirTALK have?',
    answer: 'Currently, AirTALK has 280k active users and has been around for 3 years. Our Instant Matching feature connects users to one another within seconds.'
  },
  {
    question: 'Can I practice languages on AirTALK?',
    answer: 'Our Country Selector connects you with native speakers all over the globe, so you can talk to people from your favourite regions and practice your target language.'
  },
  {
    question: 'Is AirTALK free? Do I need an account?',
    answer: 'AirTALK is free. You don’t need to make an account either. However, Premium Features are available for an enhanced voice chat experience.'
  },
  {
    question: 'Is AirTALK different from Omegle?',
    answer: 'AirTALK has voice-only chat, which makes it a better Omegle alternative. It provides improved privacy, gender filters and AI moderation as security features.'
  },
  {
    question: 'What makes AirTALK unique?',
    answer: 'AirTALK is the fastest-growing anonymous voice chat platform. It has features like instant matching and AI tools, along with complete safety for your voice chats.'
  },
  {
    question: 'How does AI filter for gender?',
    answer: 'Our AI picks up on voice patterns in real-time to determine gender. Premium Subscribers can use this feature to match with their preferred gender.'
  },
  {
    question: 'What happens if I get disconnected?',
    answer: 'We have a reconnection system and call history feature. If you lose connection, you’ll be able to reconnect with the person you were talking to.'
  },
  {
    question: 'Can I choose who I talk to?',
    answer: 'You can select countries to match with people from particular regions or cultures. Premium users can also use our AI gender filter to further select for gender.'
  }
];

// Create FAQPage schema for rich snippets in Google
const faqSchema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  'mainEntity': faqs.map(faq => ({
    '@type': 'Question',
    'name': faq.question,
    'acceptedAnswer': {
      '@type': 'Answer',
      'text': faq.answer
    }
  }))
};
---

<section class="faq" id="faq" itemscope itemtype="https://schema.org/FAQPage">
  <div class="container">
    <h2 class="section-title" data-animate="fade-up">Frequently Asked Questions</h2>
    <div class="faq-list">
      {faqs.map((faq, index) => (
        <div class="faq-item" 
             data-faq-index={index}
             data-animate="fade-right"
             style={`transition-delay: ${index * 0.08}s`}
             itemscope
             itemprop="mainEntity"
             itemtype="https://schema.org/Question">
          <div class="faq-question">
            <h3 itemprop="name">{faq.question}</h3>
            <span class="faq-icon" aria-hidden="true">+</span>
          </div>
          <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p itemprop="text">{faq.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- FAQ Schema for Google Rich Snippets -->
<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<script>
  // FAQ toggle functionality
  document.querySelectorAll('.faq-item').forEach((item) => {
    const question = item.querySelector('.faq-question');
    const answer = item.querySelector('.faq-answer');
    const icon = item.querySelector('.faq-icon');
    
    question?.addEventListener('click', () => {
      const isOpen = item.classList.contains('open');
      
      // Close all other items
      document.querySelectorAll('.faq-item').forEach((otherItem) => {
        otherItem.classList.remove('open');
        const otherIcon = otherItem.querySelector('.faq-icon');
        if (otherIcon) otherIcon.textContent = '+';
      });
      
      // Toggle current item
      if (!isOpen) {
        item.classList.add('open');
        if (icon) icon.textContent = '−';
      }
    });
  });
</script>

<style>
  .faq-answer {
    display: none;
    padding: 0 2rem 1.5rem;
    color: var(--text-muted);
    line-height: 1.7;
    animation: fadeIn 0.3s ease;
  }
  
  .faq-item.open .faq-answer {
    display: block;
  }
  .section-title{
    margin-bottom: 4rem;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

